Content-type: text/html; charset=UTF-8

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of VUSU</TITLE>
</HEAD><BODY>
<H1>VUSU</H1>
Section: General Commands Manual (1)<BR>Updated: December 2022<BR><A HREF="#index">Index</A>
<A HREF="/#/man/index">Return to Main Contents</A><HR>


<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<P>

vusu - set the default networking stack
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<P>

vusu [options] [-] [user [*argment...]]
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<P>

vusu allows to run commands with a substitute user and group
ID (in VUOS).
It requires a module loaded in VUOS able to redefine uid/gid,
e.g.&nbsp;unrealuidgid.
<P>

When called without arguments, vusu defaults to running an
interactive shell as (virtual) root.
<P>

For compatibility with <A HREF="/#/man/man1/su.1.html">su</A>(1), vusu defaults to not
change the current directory and to only set the environment variables
HOME and SHELL (plus USER and
LOGNAME if the target user is not root).
It is recommended to always use the --login option (instead of
its shortcut -) to avoid side effects caused by mixing environments.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT>-c command, --command command<DD>
Pass command to the shell with the -c option.
<DT>-, -l, --login<DD>
Start the shell as a login shell with an environment similar to a real
login:

</DL>
<P>


<DL COMPACT>
<DT><DD>
- clears all the environment variables except TERM

</DL>
<P>


<DL COMPACT>
<DT><DD>
- initializes the environment variables HOME, SHELL,
USER, LOGNAME, and PATH

</DL>
<P>


<DL COMPACT>
<DT><DD>
- changes to the target user's home directory

</DL>
<P>


<DL COMPACT>
<DT><DD>
- sets argv[0] of the shell to `-' in order to make the shell a login
shell
<DT>-m, -p, --preserve-environment<DD>
Preserve the entire environment, i.e.&nbsp;it does not set HOME,
SHELL, USER nor LOGNAME.
This option is ignored if the option --login is specified.
<DT>-s shell, --shell shell<DD>
Run the specified shell instead of the default.
The shell to run is selected according to the following
rules, in order:
<DT><DD>
- the shell specified with --shell

</DL>
<P>


<DL COMPACT>
<DT><DD>
- the shell specified in the environment variable SHELL, if
the --preserve-environment option is used

</DL>
<P>


<DL COMPACT>
<DT><DD>
- the shell listed in the passwd entry of the target user

</DL>
<P>


<DL COMPACT>
<DT><DD>
- /bin/sh
<DT>-h, --help<DD>
Display a short help message and exit.
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>SEE ALSO</H2>

<P>

<A HREF="/#/man/man1/umvu.1.html">umvu</A>(1), <A HREF="/#/man/man1/su.1.html">su</A>(1)
<A NAME="lbAG">&nbsp;</A>
<H2>AUTHOR</H2>

<P>

VirtualSquare.
Project leader: Renzo Davoli.
(most of this man page is a derivative work from <A HREF="/#/man/man1/su.1.html">su</A>(1) man
page)
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">SEE ALSO</A><DD>
<DT><A HREF="#lbAG">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 15:22:07 GMT, November 27, 2023
</BODY>
</HTML>
