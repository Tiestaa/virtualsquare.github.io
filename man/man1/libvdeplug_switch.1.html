Content-type: text/html; charset=UTF-8

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of LIBVDEPLUG_SWITCH</TITLE>
</HEAD><BODY>
<H1>LIBVDEPLUG_SWITCH</H1>
Section: User Commands  (1)<BR>Updated: April 30, 2017<BR><A HREF="#index">Index</A>
<A HREF="/#/man/index">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

libvdeplug_switch - multiplexing vdeplug module: switch
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

libvdeplug_switch.so
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

This is a libvdeplug multiplex module implementing a vde switch.
<P>
This module of libvdeplug4 can be used in any program supporting vde like
<B>vde_plug</B>, <B>kvm</B>, <B>qemu</B>, <B>user-mode-linux</B> and <B>virtualbox</B>.
<P>
The vde_plug_url syntax of this module is the following:
<DL COMPACT><DT><DD>
<B>switch://</B>[<I>path</I>]
<BR>

<B>switch://</B>[<I>path</I>]<B>[</B>[<I>OPTION</I>][<B>/</B><I>OPTION</I>][<B>/</B><I>OPTION</I>]...<B>]</B>
<BR>

</DL>

<P>
If <I>path</I> is omitted the path of the switch is /tmp/vdenode_$USERNAME (e.g. /tmp/vdenode_john
if the username is john).
<P>
This switch supports 801.1Q vlan as a trunk switch, i.e. all the VLAN tagged packets are forwarded as
such. The forwarding table uses a key including both the MAC address and th VLAN id.
<P>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>hashsize=</B><I>NUM<DD>
set the size of the forwarding hash table. (default value 256)
<DT></I><B>expiretime=</B><I>SECONDS<DD>
set the expire time of the forwarding table entries. (default value 120)
<DT></I><B>hashseed=</B><I>NUM<DD>
set a hash seed, in case the hash function generates too many collisions.
<DT></I><B>mode=</B><I>MODE<DD>
define the permissions for the switch (see chmod). MODE is an octal number.
The standard permission mask is: 0600 (only processes owning to the same user can join the network).
<DT></I><B>dirmode=</B><I>DIRMODE<DD>
define the permissions for the switch control directory(see chmod). MODE is an octal number.
If omitted, is computed from mode.
<DT></I><B>grp=</B><I>GROUP<DD>
define the group ownership of the switch.
</DL>
</I><A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLES</H2>

<B><A HREF="switch:///tmp/switch">switch:///tmp/switch</A></B>

<BR>

Other virtual machines, namespaces or vde_plug can join this switch using <B><A HREF="vde:///tmp/switch">vde:///tmp/switch</A></B> or simply <B>/tmp/switch</B>
<BR>

<B><A HREF="switch:///tmp/switch[mode=0666/hashsize=1024]">switch:///tmp/switch[mode=0666/hashsize=1024]</A></B>

<BR>

It is the same switch, but everybody is allowed to connect their processes and the hash table has 1024 entries.
<BR>

The null plug can be used to create a stand-alone vde switch:
<BR>

<B>vde_plug null:// <A HREF="switch:///tmp/myswitch">switch:///tmp/myswitch</A></B>

<BR>

The following command creates a switch connected to a tap virtual interface
<BR>

<B>vde_plug <A HREF="tap://mytap">tap://mytap</A> <A HREF="switch:///tmp/myswitch">switch:///tmp/myswitch</A></B>

<P>
<A NAME="lbAG">&nbsp;</A>
<H2>NOTICE</H2>

Virtual Distributed Ethernet is not related in any way with
<A HREF="http://www.vde.com">www.vde.com</A> (&quot;Verband der Elektrotechnik, Elektronik und Informationstechnik&quot;
i.e. the German &quot;Association for Electrical, Electronic &amp; Information
Technologies&quot;).
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/#/man/man1/vde_plug.1.html">vde_plug</A></B>(1),
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">EXAMPLES</A><DD>
<DT><A HREF="#lbAG">NOTICE</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 15:22:07 GMT, November 27, 2023
</BODY>
</HTML>
